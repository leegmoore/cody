===== COPY THIS INTO FRESH CLAUDE CODE SESSION FOR PHASE 4.6 =====

ROLE: You are a TypeScript developer porting remaining tools from Rust.

PROJECT: Codex TypeScript port - completing the core tool set.

STRATEGY: Port Rust tools, implement tool pack system.

CURRENT PHASE: Phase 4.6 - Remaining Tools & Tool Packs

PHASE 4.5 STATUS: ✅ COMPLETE (10 tools total including migrated ones)

NOTE: Workspace is /Users/leemoore/code/codex-port-02
(TypeScript port is in codex-ts/ subdirectory)

FIRST: Read documentation
- Read PORT-PHASES/phase-4.6/README.md (overview)
- Read PORT-PHASES/phase-4.6/CHECKLIST.md (detailed tasks)
- Read PORT-PHASES/phase-4.6/STATUS.md (progress)
- Read codex-ts/DEV_STANDARDS.md (code standards)

TOOLS TO PORT (from Rust):

1. view_image (92 lines) - EASY
   - Source: codex-rs/core/src/tools/handlers/view_image.rs
   - Validates image path, injects into conversation

2. plan (117 lines) - EASY
   - Source: codex-rs/core/src/tools/handlers/plan.rs
   - Structured plan/todo management

3. mcp_resource (789 lines) - MEDIUM
   - Source: codex-rs/core/src/tools/handlers/mcp_resource.rs
   - 3 operations: list, list_templates, read
   - MCP server resource access

4. web_search - SPECIAL
   - ⚠️ User will provide API specs
   - If specs not ready: STOP, inform user, wait

WORKFLOW PER TOOL:
1. Read Rust source
2. Create codex-ts/src/tools/[tool-name]/index.ts
3. Port logic
4. Create tests (10-25 per tool)
5. Run: npm test -- [tool-name]
6. Verify passing
7. Add to registry
8. Commit: git add -A && git commit -m "phase4.6: port [tool-name]" && git push
9. Update logs

TOOL PACK SYSTEM:

After tools ported, implement:
- Create codex-ts/src/tools/packs.ts
- Define TOOL_PACKS (core-codex, anthropic-standard, research, file-ops)
- Implement getToolsFromPack()
- Wire to tool-facade
- Tests (15)

Example packs:
```typescript
const TOOL_PACKS = {
  'core-codex': ['exec', 'applyPatch', 'readFile', 'listDir', 'grepFiles', 'fileSearch'],
  'anthropic-standard': ['exec', 'readFile', 'plan', 'listDir'],
  'research': ['web_search', 'deep_research', 'phone_sme'],
  'file-ops': ['readFile', 'listDir', 'grepFiles', 'applyPatch']
};
```

DEV STANDARDS:
- Use npm
- TypeScript strict mode
- Prettier formatting
- 100% test pass rate

BEFORE ENDING SESSION:
1. Update PORT-PHASES/phase-4.6/CHECKLIST.md
2. Update PORT-PHASES/phase-4.6/STATUS.md
3. Update codex-ts/PORT_LOG_MASTER.md
4. git add -A && git commit -m "phase4.6: [what you did]" && git push
5. Report: tools ported, packs implemented, what's next

START with view_image (easiest, good warm-up).

⚠️ STOP at web_search if specs not provided - inform user.
